<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link rel="stylesheet" href="/Assets/styles/css/main.css" />
    <link rel="stylesheet" href="/Assets/styles/css/font.css" />
    <link
      rel="shortcut icon"
      href="/Assets/Archivos/img/icon.png"
      type="image/png  "
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main</title>
  </head>
  <body>
    <!-- Section main -->

    <section
      id="home-section"
      class="animate__animated animate__fadeInUpBig section active"
    >
      <span>Practica tus conocimientos en la categoría que prefieras</span>

      <div class="contenedor">
        <div class="categoria html">
          <a href="#" data-tema="HTML">
            <div class="barra-progreso" id="progreso-html"></div>
            <img src="/Assets/Archivos/img/html.svg" alt="HTML" />
          </a>
          <strong>HTML</strong>
        </div>
        <div class="categoria css">
          <a href="#" data-tema="CSS">
            <div class="barra-progreso" id="progreso-css"></div>
            <img src="/Assets/Archivos/img/css.svg" alt="CSS" />
          </a>
          <strong>CSS</strong>
        </div>
        <div class="categoria js">
          <a href="#" data-tema="JavaScript">
            <div class="barra-progreso" id="progreso-javascript"></div>
            <img src="/Assets/Archivos/img/js.svg" alt="JS" />
          </a>
          <strong>JS</strong>
        </div>
        <div class="categoria figma">
          <a href="#" data-tema="UX">
            <div class="barra-progreso" id="progreso-figma"></div>
            <img src="/Assets/Archivos/img/figma.svg" alt="UX" />
          </a>
          <strong>UX</strong>
        </div>
        <div class="categoria ux">
          <a href="#" data-tema="UX">
            <div class="barra-progreso" id="progreso-ux"></div>
            <img src="/Assets/Archivos/img/ux.svg" alt="UX" />
          </a>
          <strong>UX</strong>
        </div>
      </div>
    </section>

    <script>
      document.querySelectorAll(".categoria a").forEach((link) => {
        link.addEventListener("click", (event) => {
          const tema = event.currentTarget.getAttribute("data-tema");
          sessionStorage.setItem("tema", tema);
          // Redirigir a preguntas.html
          window.location.href = "/Views/preguntas.html";
        });
      });

      function cargarProgreso() {
        const temas = ["HTML", "CSS", "JavaScript", "UX"];
        temas.forEach((tema) => {
          const progreso = localStorage.getItem(`${tema}-progreso`);
          if (progreso !== null) {
            const barraProgreso = document.getElementById(
              `progreso-${tema.toLowerCase()}`
            );
            if (barraProgreso) {
              barraProgreso.style.background = `conic-gradient(#4caf50 ${progreso}%, #f3f3f3 ${progreso}%)`;
            }
          }
        });
      }

      // Cargar progreso al cargar la página
      cargarProgreso();
    </script>

    <!-- Section Estadistica -->
    <section
      id="estadisticas-section"
      class="animate__animated animate__fadeInDown section"
    >
      <h1>Hola</h1>
    </section>

    <!-- Section Perfil -->
    <section
      id="cuenta-section"
      class="animate__animated animate__fadeInDown section"
    >
      <div class="contenedor">
        <h2>Perfil</h2>
        <div class="perfil_datos">
          <img
            id="fotoPerfil"
            src="/Assets/Archivos/img/icon.png"
            alt="Foto de perfil"
          />
          <strong id="user">Nombre Usuario</strong>
          <span id="correoPerfil">Correo</span>
        </div>

        <!-- Sección para editar el perfil -->
        <div class="perfil_editar">
          <h3>Editar Perfil</h3>
          <label for="editar_nombre">Nombre:</label>
          <input
            type="text"
            id="editar_nombre"
            placeholder="Ingrese su nombre"
          />
          <label for="editar_correo">Correo electrónico:</label>
          <input
            type="email"
            id="editar_correo"
            placeholder="Ingrese su correo electrónico"
          />

          <div class="fotoperfil">
            <!-- Campo para cambiar la foto de perfil -->
            <label for="editar_foto">Foto de perfil:</label>
            <input type="file" id="editar_foto" accept="image/*" />
            <img
              id="fotoPreview"
              src=""
              alt="Vista previa de la foto"
              style="display: none; max-width: 100px; margin-top: 10px"
            />
          </div>
          <button type="button" id="guardarCambios">Guardar Cambios</button>
        </div>

        <div class="logout">
          <a href="/Views/login.html">Cerrar Sesión</a>
        </div>
      </div>
    </section>

    <nav>
      <ul>
        <li id="home" onclick="showSection('home')">
          <img src="/Assets/Archivos/img/home.svg" alt="home" />Home
        </li>
        <li id="estadisticas" onclick="showSection('estadisticas')">
          <img
            src="/Assets/Archivos/img/stadisr.svg"
            alt="estadistica"
          />Estadistica
        </li>
        <li id="cuenta" onclick="showSection('cuenta')">
          <img src="/Assets/Archivos/img/user.svg" alt="perfil" />Perfil
        </li>
      </ul>
    </nav>
    <script src="/Assets/scripts/main.js"></script>
    <script src="/Controlador/perfil.js"></script>
  </body>
</html>
